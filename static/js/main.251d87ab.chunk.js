(this["webpackJsonpcoursework-table"]=this["webpackJsonpcoursework-table"]||[]).push([[0],{129:function(e,a,t){e.exports=t(158)},158:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(12),r=t.n(c),o=t(15),u=t(11),s=t(192),i=t(196),m=t(197),d=(t(229),t(13)),E=t(5),p=t(198),b=t(51),f=t(199),h=t(200),O=t(230),v=t(4),y=t(97),g=t.n(y),j=t(67),S=t.n(j),k=t(98),_=t.n(k);function C(){return(C=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function w(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var x=l.a.createElement("g",null,l.a.createElement("rect",{fill:"none",height:24,width:24})),L=l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("rect",{height:8.48,transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -6.8717 17.6255)",width:3,x:16.34,y:12.87}),l.a.createElement("path",{d:"M17.5,10c1.93,0,3.5-1.57,3.5-3.5c0-0.58-0.16-1.12-0.41-1.6l-2.7,2.7L16.4,6.11l2.7-2.7C18.62,3.16,18.08,3,17.5,3 C15.57,3,14,4.57,14,6.5c0,0.41,0.08,0.8,0.21,1.16l-1.85,1.85l-1.78-1.78l0.71-0.71L9.88,5.61L12,3.49 c-1.17-1.17-3.07-1.17-4.24,0L4.22,7.03l1.41,1.41H2.81L2.1,9.15l3.54,3.54l0.71-0.71V9.15l1.41,1.41l0.71-0.71l1.78,1.78 l-7.41,7.41l2.12,2.12L16.34,9.79C16.7,9.92,17.09,10,17.5,10z"}))),T=function(e){var a=e.svgRef,t=e.title,n=w(e,["svgRef","title"]);return l.a.createElement("svg",C({enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",fill:"black",width:"24px",height:"24px",ref:a},n),t?l.a.createElement("title",null,t):null,x,L)},A=l.a.forwardRef((function(e,a){return l.a.createElement(T,C({svgRef:a},e))}));t.p;function N(){return(N=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function P(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var W=l.a.createElement("g",null,l.a.createElement("rect",{fill:"none",height:24,width:24})),R=l.a.createElement("g",null,l.a.createElement("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M13.03,7.06L14.09,6l1.41,1.41 L16.91,6l1.06,1.06l-1.41,1.41l1.41,1.41l-1.06,1.06L15.5,9.54l-1.41,1.41l-1.06-1.06l1.41-1.41L13.03,7.06z M6.25,7.72h5v1.5h-5 V7.72z M11.5,16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16z M18,17.25h-5v-1.5h5V17.25z M18,14.75h-5v-1.5h5V14.75z"})),D=function(e){var a=e.svgRef,t=e.title,n=P(e,["svgRef","title"]);return l.a.createElement("svg",N({enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",fill:"black",width:"24px",height:"24px",ref:a},n),t?l.a.createElement("title",null,t):null,W,R)},I=l.a.forwardRef((function(e,a){return l.a.createElement(D,N({svgRef:a},e))})),F=(t.p,t(99)),z=t.n(F),U=t(68),H=t.n(U),B=t(100),V=t.n(B),G=t(160),M=Object(E.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundColor:"#a1343c"}},completed:{"& $line":{backgroundColor:"#a1343c"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(G.a),q=Object(p.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundColor:"#a1343c",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundColor:"#a1343c"}}),Y=function(){var e=Object(u.d)((function(e){return e.steps.step})),a=["\u041c\u043e\u0434\u0435\u043b\u0438","\u041f\u0440\u043e\u0434\u0430\u0436\u0438","\u0417\u0430\u043a\u0443\u043f\u043a\u0438","\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e","\u0420\u0430\u0441\u0447\u0451\u0442","\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435","\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0430","\u0411\u044e\u0434\u0436\u0435\u0442"];function t(e){var a,t=q(),n=e.active,c=e.completed,r={1:l.a.createElement(g.a,null),2:l.a.createElement(S.a,null),3:l.a.createElement(_.a,null),4:l.a.createElement(b.a,{component:A,viewBox:"0 0 24 24"}),5:l.a.createElement(b.a,{component:I,viewBox:"0 0 24 24"}),6:l.a.createElement(z.a,null),7:l.a.createElement(H.a,null),8:l.a.createElement(V.a,null)};return l.a.createElement("div",{className:Object(v.a)(t.root,(a={},Object(d.a)(a,t.active,n),Object(d.a)(a,t.completed,c),a))},r[String(e.icon)])}return l.a.createElement("div",null,l.a.createElement(f.a,{alternativeLabel:!0,activeStep:e,connector:l.a.createElement(M,null)},a.map((function(e){return l.a.createElement(h.a,{key:e},l.a.createElement(O.a,{StepIconComponent:t},e))}))))},X=t(232),K=Object(E.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(X.a),Q=function(e){return l.a.createElement(K,e)},J=t(14),Z=t.n(J),$="http://89.175.186.76:5001",ee=function(){return function(e){Z.a.get("".concat($,"/").concat("api/v1","/model_list")).then((function(a){var t=a.data.models;return e(ae(t))}))}},ae=function(e){return{type:"SET_MODELS",payload:e}},te=function(e){return{type:"SET_STEP",payload:e}},ne=t(161),le=t(202),ce=t(203),re=t(162),oe=t(159),ue=t(204),se=t(205),ie=t(103),me=t.n(ie),de=t(102),Ee=t.n(de),pe=Object(p.a)({root:{width:"100%",maxWidth:"1000px",margin:"0 auto"},container:{maxHeight:"580px",height:"calc(100vh - 150px)"},budgetTables:{width:"100%",maxWidth:"1000px",margin:"0 auto 30px"},row:{cursor:"pointer"},subrow:{paddingLeft:"50px"},emptyCell:{width:"48px",padding:0},header:{fontWeight:700},pagination:{backgroundColor:"rgb(161, 52, 60)",color:"white"},textField:{width:"80px"},input:{width:"100px"},toolBar:{display:"flex",justifyContent:"space-between"},formControl:{minWidth:120,maxWidth:300}}),be=[{id:"name",label:"\u041a\u043b\u0438\u0435\u043d\u0442"},{id:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{id:"stage",align:"right",label:"\u0421\u0442\u0430\u0434\u0438\u044f"},{id:"num",align:"right",label:"\u041f\u043e\u0437\u0438\u0446\u0438\u0439"},{id:"profit",align:"right",label:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (\u0442\u044b\u0441. \u0440\u0443\u0431.)"}],fe=function(e){return e.models.models};function he(){var e=pe(),a=Object(u.c)(),t=Object(u.d)(fe);Object(n.useEffect)((function(){a(te(0)),a(ee())}),[a]);var c=Object(o.f)();return l.a.createElement(ne.a,{className:e.root},l.a.createElement(le.a,{className:e.container},l.a.createElement(ce.a,{className:e.toolBar},l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439"),l.a.createElement("div",{className:"right-side"},l.a.createElement(Q,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"},l.a.createElement(oe.a,{color:"secondary","aria-label":"add model",onClick:function(){c.push("/add_model")}},l.a.createElement(Ee.a,null))),l.a.createElement(Q,{title:"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435"},l.a.createElement(oe.a,{color:"secondary","aria-label":"Power BI",onClick:function(){c.push("/power_bi")}},l.a.createElement(me.a,null))))),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:e.header},l.a.createElement(m.a,{align:"center"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),be.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.align},e.label)})))),l.a.createElement(se.a,null,t.map((function(e){return l.a.createElement(i.a,{key:e.id},l.a.createElement(m.a,{align:"center"},l.a.createElement(Q,{title:l.a.createElement(l.a.Fragment,null,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438")},l.a.createElement(oe.a,{onClick:function(){return a=e.id,void c.push("/".concat(a,"/wishes"));var a},color:"secondary","aria-label":"go to step 2"},l.a.createElement(S.a,null)))),be.map((function(a){var t=e[a.id]||0;return l.a.createElement(m.a,{key:a.id,align:a.align},t)})))}))))))}var Oe=t(79),ve=t.n(Oe),ye=t(104),ge=t(23),je=t(106),Se=t.n(je),ke=t(206),_e=t(207),Ce=t(163),we=t(233),xe=t(208),Le=t(228),Te=t(209),Ae=t(227),Ne=t(235),Pe=t(212),We=t(43),Re=t(2),De={models:[]},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MODELS":return Object(Re.a)(Object(Re.a)({},e),{},{models:a.payload});default:return Object(Re.a)({},e)}},Fe={schemes:[]},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SCHEMES":return Object(Re.a)(Object(Re.a)({},e),{},{schemes:a.payload});default:return Object(Re.a)({},e)}},Ue=t(34),He=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t={status:a},n=Object.assign({});for(var l in e)if("status"!==l)for(var c in n[l]=t,e[l])"status"!==c&&(n[l][c]=t);return n},Be={wishes:{},status:{},isOpen:!1,request:new FormData,scheme:1315,loaded:!0},Ve=function(e){var a=/^([0-9][0-9]*)\./,t=/^([0-9][0-9]*\.[0-9]*)/,n=e.map((function(e){var n=e.code.match(a)[1]||"all",l=e.code.match(t)[1]||"all";return Object(Re.a)(Object(Re.a)({},e),{},{firstGroup:n,secondGroup:l})})).reduce((function(e,a){return e[a.firstGroup]=e[a.firstGroup]||{values:[]},e[a.firstGroup].values.push(a),e}),Object.create(null));return Object.keys(n).forEach((function(e){n[e].values=n[e].values.reduce((function(e,a){return e[a.secondGroup]=e[a.secondGroup]||{values:[]},e[a.secondGroup].values.push(a),e}),Object.create(null))})),n},Ge=function(e){return e.reduce((function(e,a){return e.mult+=a.price*+a.amount,e.price+=a.price,e.amount+=+a.amount,e}),{amount:0,price:0,mult:0})},Me=function(e){return Object.keys(e).forEach((function(a){Object.keys(e[a].values).forEach((function(t){var n=Ge(e[a].values[t].values),l=n.amount,c=n.price,r=n.mult;e[a].values[t]={values:e[a].values[t].values,price:c,amount:l,averagePrice:l?r/l:0}}));var t=Object.keys(e[a].values).map((function(t){var n=e[a].values[t];return{amount:n.amount,price:n.averagePrice}})),n=Ge(t),l=n.amount,c=n.price,r=n.mult;e[a]={values:e[a].values,price:c,amount:l,averagePrice:r/l}})),e},qe=function e(a){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={status:t};if(!Array.isArray(a))for(var l in a)n=Object(Re.a)(Object(Re.a)({},n),{},Object(d.a)({},l,e(a[l].values)));return n},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_WISHES":var t=a.payload,n=t.wishes,l=t.scheme,c=Ve(n),r=qe(c),o=Me(c);return Object(Re.a)(Object(Re.a)({},e),{},{wishes:o,status:r,scheme:l});case"SET_WISHES_STATUS":var u=a.payload;return 2===u.length?Object(Re.a)(Object(Re.a)({},e),{},{status:Object(Re.a)(Object(Re.a)({},e.status),{},Object(d.a)({},u[0],Object(Re.a)(Object(Re.a)({},e.status[u[0]]),{},Object(d.a)({},u[1],{status:!e.status[u[0]][u[1]].status}))))}):1===u.length?Object(Re.a)(Object(Re.a)({},e),{},{status:Object(Re.a)(Object(Re.a)({},e.status),{},Object(d.a)({},u[0],Object(Re.a)(Object(Re.a)({},e.status[u[0]]),{},{status:!e.status[u[0]].status})))}):Object(Re.a)({},e);case"EXPAND_ALL_WISHES":return Object(Re.a)(Object(Re.a)({},e),{},{status:He(e.status),isOpen:!0});case"CLOSE_ALL_WISHES":return Object(Re.a)(Object(Re.a)({},e),{},{status:He(e.status,!1),isOpen:!1});case"SET_WISHES_LOADED":return Object(Re.a)(Object(Re.a)({},e),{},{loaded:a.payload});case"SAVE_WISHES":var s=a.payload,i=s.id,m=s.key1,E=s.key2,p=s.amount,b=s.price,f=s.index,h=e.wishes[m].values[E].values,O=Object(Ue.a)(h),v=O[f],y=v.amount,g=v.price;if(p===y&&""+g===b)return Object(Re.a)({},e);e.request.append("".concat(i,"_amount"),p),e.request.append("".concat(i,"_price"),b);var j=Object(Re.a)({},e.wishes),S=j[m].values[E].values[f];return S.price=+b,S.amount=p,Object(Re.a)(Object(Re.a)({},e),{},{wishes:Me(j)});case"CLEAR_WISHES_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{request:new FormData});default:return Object(Re.a)({},e)}},Xe={purchase:[],request:new FormData,loaded:!0},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PURCHASE":return Object(Re.a)(Object(Re.a)({},e),{},{purchase:a.payload});case"SET_PURCHASE_LOADED":return Object(Re.a)(Object(Re.a)({},e),{},{loaded:a.payload});case"SAVE_PURCHASE":var t=Object(Ue.a)(e.purchase),n=a.payload,l=n.index,c=n.price,r=t[l],o=r.price;return o===c?Object(Re.a)({},e):(e.request.append("".concat(r.id),""+c),r.price=c,Object(Re.a)(Object(Re.a)({},e),{},{purchase:t}));case"CLEAR_PURCHASE_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{request:new FormData});default:return Object(Re.a)({},e)}},Qe={production:{},status:{},isOpen:!1,loaded:!0},Je=/^([0-9][0-9]*)\./,Ze=/^([0-9][0-9]*\.[0-9]*)/,$e=function(e){var a=e.map((function(e){var a=e.code.match(Je)[1]||"all",t=e.code.match(Ze)[1]||"all";return Object(Re.a)(Object(Re.a)({},e),{},{firstGroup:a,secondGroup:t})})).reduce((function(e,a){return e[a.firstGroup]=e[a.firstGroup]||{values:[]},e[a.firstGroup].values.push(a),e}),Object.create(null));return Object.keys(a).forEach((function(e){a[e].values=a[e].values.reduce((function(e,a){return e[a.secondGroup]=e[a.secondGroup]||{values:[]},e[a.secondGroup].values.push(a),e}),Object.create(null))})),a},ea=function(e){return e.reduce((function(e,a){return e+=+a.amount}),0)},aa=function(e){return Object.keys(e).forEach((function(a){Object.keys(e[a].values).forEach((function(t){var n=ea(e[a].values[t].values);e[a].values[t]={values:e[a].values[t].values,amount:n}}));var t=Object.keys(e[a].values).map((function(t){return{amount:e[a].values[t].amount}})),n=ea(t);e[a]={values:e[a].values,amount:n}})),e},ta=function e(a){var t={status:!1};if(!Array.isArray(a))for(var n in a)t=Object(Re.a)(Object(Re.a)({},t),{},Object(d.a)({},n,e(a[n].values)));return t},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PRODUCTION":var t=a.payload,n=$e(t),l=ta(n),c=aa(n);return Object(Re.a)(Object(Re.a)({},e),{},{production:c,status:l});case"SET_PRODUCTION_STATUS":var r=a.payload;return 2===r.length?Object(Re.a)(Object(Re.a)({},e),{},{status:Object(Re.a)(Object(Re.a)({},e.status),{},Object(d.a)({},r[0],Object(Re.a)(Object(Re.a)({},e.status[r[0]]),{},Object(d.a)({},r[1],{status:!e.status[r[0]][r[1]].status}))))}):1===r.length?Object(Re.a)(Object(Re.a)({},e),{},{status:Object(Re.a)(Object(Re.a)({},e.status),{},Object(d.a)({},r[0],Object(Re.a)(Object(Re.a)({},e.status[r[0]]),{},{status:!e.status[r[0]].status})))}):Object(Re.a)({},e);case"SET_PRODUCTION_LOADED":return Object(Re.a)(Object(Re.a)({},e),{},{loaded:a.payload});case"EXPAND_ALL_PRODUCTION":return Object(Re.a)(Object(Re.a)({},e),{},{status:He(e.status),isOpen:!0});case"CLOSE_ALL_PRODUCTION":return Object(Re.a)(Object(Re.a)({},e),{},{status:He(e.status,!1),isOpen:!1});default:return Object(Re.a)({},e)}},la={products:[],request:new FormData,loaded:!0},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PRODUCTS":return Object(Re.a)(Object(Re.a)({},e),{},{products:a.payload});case"SAVE_PRODUCTS":var t=a.payload,n=t.index,l=t.values,c=l.price,r=l.amount,o=Object(Ue.a)(e.products),u=o[n],s=u.price,i=u.amount;return s===c&&+i===r?Object(Re.a)({},e):(e.request.append("".concat(o[n].id,"_price"),""+c),e.request.append("".concat(o[n].id,"_amount"),""+r),o[n]=Object(Re.a)(Object(Re.a)({},o[n]),{},{amount:""+r,price:c}),Object(Re.a)(Object(Re.a)({},e),{},{products:o}));case"SET_PRODUCTS_LOADED":return Object(Re.a)(Object(Re.a)({},e),{},{loaded:a.payload});case"CLEAR_PRODUCTS_REQUEST":return Object(Re.a)(Object(Re.a)({},e),{},{request:new FormData});default:return Object(Re.a)({},e)}},ra={step:0},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_STEP":return Object(Re.a)(Object(Re.a)({},e),{},{step:a.payload});default:return Object(Re.a)({},e)}},ua={blocks:{sell:{values:{},status:{},isOpen:!1},add:[]}},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_BLOCKS_SELL":var t=a.payload.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{price:+e.price})})),n=Ve(t),l=qe(n),c=Me(n);return Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{sell:Object(Re.a)(Object(Re.a)({},e.blocks.sell),{},{values:c,status:l})})});case"SET_BLOCKS_ADD":return Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{add:a.payload})});case"SET_BLOCKS_SELL_STATUS":var r=a.payload;return 2===r.length?Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{sell:Object(Re.a)(Object(Re.a)({},e.blocks.sell),{},{status:Object(Re.a)(Object(Re.a)({},e.blocks.sell.status),{},Object(d.a)({},r[0],Object(Re.a)(Object(Re.a)({},e.blocks.sell.status[r[0]]),{},Object(d.a)({},r[1],{status:!e.blocks.sell.status[r[0]][r[1]].status}))))})})}):1===r.length?Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{sell:Object(Re.a)(Object(Re.a)({},e.blocks.sell),{},{status:Object(Re.a)(Object(Re.a)({},e.blocks.sell.status),{},Object(d.a)({},r[0],Object(Re.a)(Object(Re.a)({},e.blocks.sell.status[r[0]]),{},{status:!e.blocks.sell.status[r[0]].status})))})})}):Object(Re.a)({},e);case"EXPAND_ALL_SELL":return Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{sell:Object(Re.a)(Object(Re.a)({},e.blocks.sell),{},{status:He(e.blocks.sell.status),isOpen:!0})})});case"CLOSE_ALL_SELL":return Object(Re.a)(Object(Re.a)({},e),{},{blocks:Object(Re.a)(Object(Re.a)({},e.blocks),{},{sell:Object(Re.a)(Object(Re.a)({},e.blocks.sell),{},{status:He(e.blocks.sell.status,!1),isOpen:!1})})});default:return Object(Re.a)({},e)}},ia={clients:[]},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CLIENTS":return Object(Re.a)(Object(Re.a)({},e),{},{clients:a.payload});default:return Object(Re.a)({},e)}},da=Object(We.c)({models:Ie,schemes:ze,wishes:Ye,purchase:Ke,production:na,products:ca,steps:oa,budget:sa,addModel:ma}),Ea=t(105),pa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.d,ba=Object(We.e)(da,pa(Object(We.a)(Ea.a))),fa=u.d,ha=ba,Oa=function(){var e=pe(),a=Object(o.f)(),t=fa((function(e){return e.addModel})).clients,c=Object(u.c)();Object(n.useEffect)((function(){c((function(e){Z.a.get("".concat($,"/").concat("api/v1","/add_model/")).then((function(a){var t=a.data;return e({type:"SET_CLIENTS",payload:t.clients})}))}))}),[c]);var r=Object(n.useState)("current_client"),s=Object(ge.a)(r,2),i=s[0],m=s[1],d=Object(n.useState)(""),E=Object(ge.a)(d,2),p=E[0],b=E[1],f=Object(n.useState)(),h=Object(ge.a)(f,2),O=h[0],v=h[1],y=function(){var e=Object(ye.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FormData).append("model_source",i),e.t0=i,e.next="current_client"===e.t0?6:"excel_file"===e.t0?8:12;break;case 6:return n.append("client_id",p),e.abrupt("break",12);case 8:if(!O){e.next=11;break}return n.append("file",O),e.abrupt("break",12);case 11:return e.abrupt("return");case 12:Z()({method:"post",url:"".concat($,"/").concat("api/v1","/add_model/"),data:n,headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}}).finally((function(){return a.push("/")}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:e.root},l.a.createElement("form",{onSubmit:y},l.a.createElement(ke.a,{container:!0,spacing:3},l.a.createElement(ke.a,{item:!0,xs:12,sm:12},l.a.createElement(re.a,{variant:"h5",component:"h2"},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439")),l.a.createElement(ke.a,{item:!0,xs:12,sm:12},l.a.createElement(_e.a,{component:"fieldset",required:!0},l.a.createElement(Ce.a,{focused:!1,component:"legend"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u043d\u043e\u0432\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438:"),l.a.createElement(we.a,{"aria-label":"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043d\u043e\u0432\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438",name:"model_source",value:i,onChange:function(e){m(e.target.value)}},l.a.createElement(xe.a,{value:"current_client",control:l.a.createElement(Le.a,null),label:"\u0418\u0437 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),l.a.createElement(xe.a,{value:"excel_file",control:l.a.createElement(Le.a,null),label:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438 \u0438\u0437 Excel"}),l.a.createElement(xe.a,{value:"manual",disabled:!0,control:l.a.createElement(Le.a,null),label:"\u0412\u0432\u0435\u0441\u0442\u0438 \u043d\u043e\u0432\u044b\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e"})))),"current_client"===i?l.a.createElement(ke.a,{item:!0,xs:12,sm:12},l.a.createElement(_e.a,{component:"fieldset",color:"secondary",className:e.formControl,required:!0},l.a.createElement(Ce.a,{focused:!1,component:"legend",style:{marginBottom:10}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430:"),l.a.createElement(Te.a,{id:"client_id"},"\u041a\u043b\u0438\u0435\u043d\u0442"),l.a.createElement(Ae.a,{labelId:"client_id",id:"client_id",label:"\u041a\u043b\u0438\u0435\u043d\u0442",value:p,onChange:function(e){b(e.target.value)}},t.map((function(e){var a=e.id,t=e.name;return l.a.createElement(Ne.a,{key:a,value:a},t)}))))):null,"excel_file"===i?l.a.createElement(ke.a,{item:!0,xs:12,sm:12},l.a.createElement(re.a,{variant:"body1",component:"span"},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b:"),l.a.createElement(oe.a,{color:"secondary",component:"label"},l.a.createElement(Se.a,null),l.a.createElement("input",{id:"upload-file",onChange:function(e){v(e.target.files[0])},type:"file",name:"file",hidden:!0})),l.a.createElement(re.a,{variant:"body2",component:"span"},O&&O.name)):null,l.a.createElement(ke.a,{item:!0,xs:3,sm:6},l.a.createElement(Pe.a,{color:"secondary",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))},va=function(){var e=Object(u.c)();return Object(n.useEffect)((function(){e(te(5))}),[e]),l.a.createElement("div",{className:"power-BI"},l.a.createElement("iframe",{title:"Power BI",style:{position:"absolute",width:"100%",height:"90vh",border:"none"},src:"https://app.powerbi.com/view?r=eyJrIjoiODYwYjBhOGMtZTIzYS00ZDJkLTk1MTEtNTk3Nzk4YTE2ZjUzIiwidCI6IjJhZTk1YzIwLWM2NzUtNGM0OC04OGQzLWYyNzZiNzYyYmY1MiIsImMiOjl9",allowFullScreen:!0}))},ya=t(33),ga=function(e){return function(a){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/wishes")).then((function(e){var t=e.data,n=t.products,l=t.scheme;return a(ja({wishes:n,scheme:l}))})).finally((function(){return a(wa(!0))}))}},ja=function(e){return{type:"SET_WISHES",payload:e}},Sa=function(e){return{type:"SET_WISHES_STATUS",payload:e}},ka={type:"CLEAR_WISHES_REQUEST"},_a={type:"EXPAND_ALL_WISHES"},Ca={type:"CLOSE_ALL_WISHES"},wa=function(e){return{type:"SET_WISHES_LOADED",payload:e}},xa=t(236),La=t(110),Ta=t.n(La),Aa=t(111),Na=t.n(Aa),Pa=t(107),Wa=t.n(Pa),Ra=t(108),Da=t.n(Ra),Ia=t(109),Fa=t.n(Ia),za=t(74),Ua=t.n(za),Ha=t(73),Ba=t.n(Ha),Va=t(213),Ga=function(e){var a=e.empty,t=void 0===a?0:a,n=e.content,c=e.repeat,r=pe();return l.a.createElement(l.a.Fragment,null,Object(Ue.a)(Array(c)).map((function(e,a){return l.a.createElement(i.a,{key:a},Object(Ue.a)(Array(t)).map((function(e,a){return l.a.createElement(m.a,{key:a,className:r.emptyCell})})),Object(Ue.a)(Array(n)).map((function(e,a){return l.a.createElement(m.a,{key:a},l.a.createElement(Va.a,{variant:"text"}))})))})))},Ma=function(e){var a=e.match,t=pe(),c=Object(u.c)(),r=+a.params.id;Object(n.useEffect)((function(){c(ka),c(te(1)),c(wa(!1)),c(ga(r))}),[c,r]);var E=fa((function(e){return e.wishes})),p=E.wishes,b=E.status,f=E.scheme,h=E.request,O=E.isOpen,v=E.loaded,y=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];c(Sa(a))},g=Object(n.useState)({}),j=Object(ge.a)(g,2),S=j[0],k=j[1],_=function(e,a,t){var n=e.value;k(Object(Re.a)(Object(Re.a)({},S),{},Object(d.a)({},a,Object(Re.a)(Object(Re.a)({},S[a]),{},Object(d.a)({},t,n)))))},C=function(e){var a=Object(Re.a)({},S);delete a[e],k(a)},w=Object(o.f)();return l.a.createElement(ne.a,{className:t.root},l.a.createElement(le.a,{className:t.container},l.a.createElement(ce.a,{className:t.toolBar},l.a.createElement("div",{className:"left-side"},l.a.createElement(Q,{title:"\u041c\u043e\u0434\u0435\u043b\u0438"},l.a.createElement(oe.a,{color:"secondary","aria-label":"back",onClick:function(){w.push("/")}},l.a.createElement(Wa.a,null)))),l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u0412\u0432\u043e\u0434 \u043f\u043b\u0430\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436 \u0433\u043e\u0442\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),l.a.createElement("div",{className:"right-side"},l.a.createElement(Q,{title:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"},l.a.createElement(oe.a,{color:"secondary","aria-label":"not save",onClick:function(){w.push("/".concat(r,"/schemes/").concat(f,"/purchase/0"))}},l.a.createElement(Da.a,null))),l.a.createElement(Q,{title:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043b\u0438\u043d\u0435\u0439\u043d\u043e"},l.a.createElement(oe.a,{color:"secondary","aria-label":"calculate",onClick:function(){Z()({method:"post",url:"".concat($,"/").concat("api/v1","/").concat(r,"/wishes/"),data:h,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data.scheme_id;w.push("/".concat(r,"/schemes/").concat(a,"/purchase/0"))}))}},l.a.createElement(Fa.a,null))))),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:t.header},l.a.createElement(m.a,null,l.a.createElement(Q,{title:O?"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"},l.a.createElement(oe.a,{color:"secondary","aria-label":"expand all",onClick:function(){c(O?Ca:_a)},size:"small"},O?l.a.createElement(Ba.a,null):l.a.createElement(Ua.a,null)))),l.a.createElement(m.a,{className:t.emptyCell}),l.a.createElement(m.a,null,"\u2116"),l.a.createElement(m.a,null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438"),l.a.createElement(m.a,{style:{minWidth:150}},"\u041e\u0431\u044a\u0435\u043c, \u0442"),l.a.createElement(m.a,{style:{minWidth:150}},"\u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u0440\u0443\u0431/\u043a\u0433"),l.a.createElement(m.a,{align:"center"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),l.a.createElement(se.a,null,v?l.a.createElement(l.a.Fragment,null,Object.keys(p).map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(i.a,null,l.a.createElement(m.a,{style:{fontWeight:"bold",cursor:"pointer"},colSpan:4,onClick:function(){return y(e)}},l.a.createElement(oe.a,{style:{marginRight:16},color:"secondary",size:"small"},b[e].status?l.a.createElement(Ba.a,null):l.a.createElement(Ua.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434: ",l.a.createElement("span",{style:{fontWeight:400}},e))),l.a.createElement(m.a,{style:{fontWeight:700},align:"left"},+p[e].amount.toFixed(8)),l.a.createElement(m.a,{style:{fontWeight:700},align:"left"},+p[e].averagePrice.toFixed(8)),l.a.createElement(m.a,null)),b[e].status&&Object.keys(p[e].values).map((function(a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(i.a,null,l.a.createElement(m.a,null),l.a.createElement(m.a,{colSpan:3,style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){return y(e,a)}},l.a.createElement(oe.a,{size:"small",color:"secondary",style:{marginRight:16}},b[e][a].status?l.a.createElement(Ba.a,null):l.a.createElement(Ua.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434:"," ",l.a.createElement("span",{style:{fontWeight:400}},a))),l.a.createElement(m.a,{align:"left"},+p[e].values[a].amount.toFixed(8)),l.a.createElement(m.a,{align:"left"},+p[e].values[a].averagePrice.toFixed(8)),l.a.createElement(m.a,null)),b[e][a].status&&p[e].values[a].values.map((function(n,r){return l.a.createElement(i.a,{key:"".concat(a,"_").concat(r)},l.a.createElement(m.a,null),l.a.createElement(m.a,null),l.a.createElement(m.a,null,n.code),l.a.createElement(m.a,null,n.name),S.hasOwnProperty(n.id)?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null,l.a.createElement(ya.a,{value:S[n.id][0],onValueChange:function(e){var a=e.value;return _({value:a},n.id,0)},thousandSeparator:" ",customInput:xa.a,InputProps:{color:"secondary",size:"small",className:t.input}})),l.a.createElement(m.a,null,l.a.createElement(ya.a,{value:S[n.id][1],onValueChange:function(e){var a=e.value;return _({value:a},n.id,1)},thousandSeparator:" ",suffix:"\u20bd",customInput:xa.a,InputProps:{color:"secondary",size:"small",className:t.input}}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},+n.amount),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},n.price)),S.hasOwnProperty(n.id)?l.a.createElement(m.a,{align:"center"},l.a.createElement(oe.a,{onClick:function(){return function(e,a,t,n){var l=S[e][0],r=S[e][1];c(function(e){return{type:"SAVE_WISHES",payload:e}}({id:e,key1:a,key2:t,amount:l,price:r,index:n})),C(e)}(n.id,e,a,r)},size:"small",color:"secondary"},l.a.createElement(Ta.a,null)),l.a.createElement(oe.a,{onClick:function(){return C(n.id)},size:"small",color:"secondary"},l.a.createElement(Na.a,null))):l.a.createElement(m.a,{align:"center"},l.a.createElement(oe.a,{onClick:function(){return function(e,a,t){k(Object(Re.a)(Object(Re.a)({},S),{},Object(d.a)({},e,{0:a,1:t})))}(n.id,n.amount,""+n.price)},size:"small",color:"secondary"},l.a.createElement(H.a,null))))})))})))}))):l.a.createElement(Ga,{empty:2,content:5,repeat:10})))))},qa=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return function(n){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/schemes/").concat(a,"/purchase/").concat(t,"/")).then((function(e){var a=e.data.products;return n(Ya(a))})).finally((function(){return n(Xa(!0))}))}},Ya=function(e){return{type:"SET_PURCHASE",payload:e}},Xa=function(e){return{type:"SET_PURCHASE_LOADED",payload:e}},Ka=t(214),Qa=t(215),Ja=t(216),Za=t(217),$a=t(218),et=t(219),at=[{id:"name",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{id:"amount",label:"\u0417\u0430\u043a\u0443\u043f\u043a\u0430, \u0442"},{id:"price",label:"\u0426\u0435\u043d\u0430, \u0440\u0443\u0431/\u043a\u0433"}],tt=function(e){var a=e.match,t=pe(),c=Object(u.c)(),r=a.params,E=r.id,p=r.id2,b=r.changed,f=fa((function(e){return e.purchase})),h=f.purchase,O=f.request,v=f.loaded;Object(n.useEffect)((function(){c(Xa(!1)),c(te("0"!==b?6:2)),c(qa(E,p,b))}),[c,E,p,b]);var y=Object(n.useState)({}),g=Object(ge.a)(y,2),j=g[0],S=g[1],k=function(e){var a=Object(Re.a)({},j);delete a[e],S(a)},_=function(){var e=pe(),a=Object(o.f)();return l.a.createElement(ce.a,{className:e.toolBar},l.a.createElement("div",{className:"left-side"},l.a.createElement(Q,{title:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f"},l.a.createElement(oe.a,{color:"secondary","aria-label":"refuse",onClick:function(){var e="0"!==b?"/".concat(E,"/schemes/").concat(p,"/wishes"):"/".concat(E,"/wishes");a.push(e)}},l.a.createElement(Ka.a,null)))),l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043b\u0430\u043d\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a"),l.a.createElement("div",{className:"right-side"},l.a.createElement(Q,{title:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043b\u0438\u043d\u0435\u0439\u043d\u043e"},l.a.createElement(oe.a,{color:"secondary","aria-label":"calculate",onClick:function(){Z()({method:"post",url:"".concat($,"/").concat("api/v1","/").concat(E,"/schemes/").concat(p,"/purchase/").concat(b,"/"),data:O,headers:{"Content-Type":"multipart/form-data"}})}},l.a.createElement(Qa.a,null))),l.a.createElement(Q,{title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"},l.a.createElement(oe.a,{color:"primary","aria-label":"accept",onClick:function(){a.push("/".concat(E,"/schemes/").concat(p,"/production").concat("0"!==b?"/1":"/0"))}},l.a.createElement(Ja.a,null)))))};return l.a.createElement(ne.a,{className:t.root},l.a.createElement(le.a,{className:t.container},l.a.createElement(_,null),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:t.header},at.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.align},e.label)})),l.a.createElement(m.a,{align:"center"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),l.a.createElement(se.a,null,v?l.a.createElement(l.a.Fragment,null,h.map((function(e,a){var n=e.id,r=e.name,o=e.amount,u=e.price;return l.a.createElement(i.a,{key:n},l.a.createElement(m.a,null,r),l.a.createElement(m.a,null,o),j.hasOwnProperty(n)?l.a.createElement(m.a,null,l.a.createElement(ya.a,{value:j[n],thousandSeparator:" ",customInput:xa.a,suffix:"\u20bd",InputProps:{color:"secondary",size:"small",className:t.input},onValueChange:function(e){return function(e,a){var t=e.value;S(Object(Re.a)(Object(Re.a)({},j),{},Object(d.a)({},a,t)))}({value:e.value},n)}})):l.a.createElement(m.a,null,u),j.hasOwnProperty(n)?l.a.createElement(m.a,{align:"center"},l.a.createElement(oe.a,{size:"small",color:"secondary",onClick:function(){return function(e,a){var t={index:a,price:+j[e]};c(function(e){return{type:"SAVE_PURCHASE",payload:e}}(t)),k(e)}(n,a)}},l.a.createElement(Za.a,null)),l.a.createElement(oe.a,{size:"small",color:"secondary",onClick:function(){return k(n)}},l.a.createElement($a.a,null))):l.a.createElement(m.a,{align:"center"},l.a.createElement(oe.a,{size:"small",color:"secondary",onClick:function(){return function(e,a){S(Object(Re.a)(Object(Re.a)({},j),{},Object(d.a)({},e,a)))}(n,""+u)}},l.a.createElement(et.a,null))))}))):l.a.createElement(Ga,{content:4,repeat:10})))))},nt=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return function(n){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/schemes/").concat(a,"/production/").concat(t)).then((function(e){var a=e.data.products;return n(lt(a))})).finally((function(){return n(ut(!0))}))}},lt=function(e){return{type:"SET_PRODUCTION",payload:e}},ct=function(e){return{type:"SET_PRODUCTION_STATUS",payload:e}},rt={type:"EXPAND_ALL_PRODUCTION"},ot={type:"CLOSE_ALL_PRODUCTION"},ut=function(e){return{type:"SET_PRODUCTION_LOADED",payload:e}},st=t(220),it=t(221),mt=function(e){var a=e.model,t=e.scheme,n=e.changed,c=pe(),r=Object(o.f)();return l.a.createElement(ce.a,{className:c.toolBar},l.a.createElement("div",{className:"left-side"},l.a.createElement(Q,{title:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f"},l.a.createElement(oe.a,{color:"secondary","aria-label":"refuse",onClick:function(){var e="0"!==n?"/".concat(a,"/schemes/").concat(t,"/wishes"):"/".concat(a,"/wishes");r.push(e)}},l.a.createElement(Ka.a,null)))),l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043b\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"),l.a.createElement("div",{className:"right-side"},l.a.createElement(Q,{title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"},l.a.createElement(oe.a,{color:"primary","aria-label":"accept",onClick:function(){var e="0"!==n?"/".concat(a,"/schemes/").concat(t,"/budget"):"/".concat(a,"/schemes/").concat(t,"/launch");r.push(e)}},l.a.createElement(Ja.a,null)))))},dt=function(e){var a=e.match,t=pe(),c=Object(u.c)(),r=a.params,o=r.id,d=r.id2,E=r.changed;Object(n.useEffect)((function(){c(ut(!1)),c(te("0"!==E?6:3)),c(nt(o,d,E))}),[c,o,d,E]);var p=fa((function(e){return e.production})),b=p.production,f=p.status,h=p.isOpen,O=p.loaded,v=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];c(ct(a))};return l.a.createElement(ne.a,{className:t.root},l.a.createElement(le.a,{className:t.container},l.a.createElement(mt,{model:o,scheme:d,changed:E}),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:t.header},l.a.createElement(m.a,null,l.a.createElement(Q,{title:h?"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"},l.a.createElement(oe.a,{color:"secondary","aria-label":"expand all",onClick:function(){c(h?ot:rt)},size:"small"},h?l.a.createElement(st.a,null):l.a.createElement(it.a,null)))),l.a.createElement(m.a,{className:t.emptyCell}),l.a.createElement(m.a,{style:{width:100}},"\u2116"),l.a.createElement(m.a,{style:{width:400}},"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"),l.a.createElement(m.a,{style:{minWidth:150}},"\u041e\u0431\u044a\u0435\u043c, \u0442"))),l.a.createElement(se.a,null,O?l.a.createElement(l.a.Fragment,null,Object.keys(b).map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(i.a,null,l.a.createElement(m.a,{style:{fontWeight:"bold",cursor:"pointer"},colSpan:4,onClick:function(){return v(e)}},l.a.createElement(oe.a,{style:{marginRight:16},color:"secondary",size:"small"},f[e].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434: ",l.a.createElement("span",{style:{fontWeight:400}},e))),l.a.createElement(m.a,{style:{fontWeight:700},align:"left"},+b[e].amount.toFixed(8))),f[e].status&&Object.keys(b[e].values).map((function(a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(i.a,null,l.a.createElement(m.a,null),l.a.createElement(m.a,{colSpan:3,style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){return v(e,a)}},l.a.createElement(oe.a,{size:"small",color:"secondary",style:{marginRight:16}},f[e][a].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434:"," ",l.a.createElement("span",{style:{fontWeight:400}},a))),l.a.createElement(m.a,{align:"left"},+b[e].values[a].amount.toFixed(8))),f[e][a].status&&b[e].values[a].values.map((function(e,t){return l.a.createElement(i.a,{key:"".concat(a,"_").concat(t)},l.a.createElement(m.a,null),l.a.createElement(m.a,null),l.a.createElement(m.a,null,e.code),l.a.createElement(m.a,null,e.name),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},+e.amount))})))})))}))):l.a.createElement(Ga,{empty:2,content:3,repeat:10})))))},Et=t(114),pt=t(222);function bt(e){var a=e.inputRef,t=e.onChange,n=Object(Et.a)(e,["inputRef","onChange"]);return l.a.createElement(ya.a,Object.assign({},n,{getInputRef:a,onValueChange:function(e){t({target:{value:e.value}})},thousandSeparator:" "}))}var ft=function(e){var a=e.match.params,t=a.id,c=a.id2,r=pe(),s=Object(u.c)();Object(n.useEffect)((function(){s(te(4))}),[s]);var i=new Intl.NumberFormat("ru"),m=Object(n.useState)({value:"100",formattedValue:i.format(100)}),d=Object(ge.a)(m,2),E=d[0],p=d[1],b=Object(n.useState)("10"),f=Object(ge.a)(b,2),h=f[0],O=f[1],v=Object(o.f)(),y=Object(n.useState)(!0),g=Object(ge.a)(y,2),j=g[0],S=g[1];return l.a.createElement("div",{className:r.root},l.a.createElement(ke.a,{container:!0,spacing:3},l.a.createElement(ke.a,{item:!0,xs:12,sm:12},l.a.createElement(re.a,{variant:"h5",component:"h2"},"\u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f")),l.a.createElement(ke.a,{item:!0,xs:12,sm:6},l.a.createElement(xa.a,{id:"count",name:"count",label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u0431\u0438\u0440\u0430\u0435\u043c\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439",value:E.formattedValue,onChange:function(e){return function(e){var a=e.target.value.replace(/\s/g,"");/^[0-9]*$/.test(a)&&p({value:a,formattedValue:a?i.format(+a):""})}(e)},color:"secondary",required:!0,fullWidth:!0})),l.a.createElement(ke.a,{item:!0,xs:12,sm:6},l.a.createElement(xa.a,{id:"interval",name:"interval",defaultValue:"10",value:h,onChange:function(e){O(e.target.value)},color:"secondary",label:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043c\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438 (+/- \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432)",InputProps:{inputComponent:bt},required:!0,fullWidth:!0})),l.a.createElement(ke.a,{item:!0,xs:3,sm:6},l.a.createElement(Pe.a,{color:"secondary",onClick:function(){var e=new FormData;e.append("count",E.value),e.append("spread",h),S(!1),Z()({method:"post",url:"".concat($,"/").concat("api/v1","/").concat(t,"/schemes/").concat(c,"/launch/"),data:e,headers:{"Content-Type":"multipart/form-data"}}).finally((function(){return S(!0)})).then((function(e){e.data.success?v.push("/".concat(t,"/schemes/").concat(c,"/wishes")):alert("\u0427\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!")}))}},!j&&l.a.createElement(pt.a,{color:"secondary",size:20,style:{marginRight:10}}),"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))))},ht=function(e){return{type:"SET_PRODUCTS",payload:e}},Ot={type:"CLEAR_PRODUCTS_REQUEST"},vt=function(e){return{type:"SET_PRODUCTS_LOADED",payload:e}},yt=t(223),gt=t(224),jt=[{id:"code",label:"\u041a\u043e\u0434"},{id:"name",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438"},{id:"amount",label:"\u041e\u0431\u044a\u0435\u043c, \u0442"},{id:"price",label:"\u0426\u0435\u043d\u0430, \u0440\u0443\u0431/\u043a\u0433"},{id:"curr_rent",label:"\u0420\u0435\u043d\u0442-\u0441\u0442\u044c, %",align:"right"},{id:"last_volume",label:"\u041e\u0431\u044a\u0435\u043c, \u0442",align:"right"},{id:"last_price",label:"\u0426\u0435\u043d\u0430,\xa0\u0440\u0443\u0431/\u043a\u0433",align:"right"},{id:"last_rent",label:"\u0420\u0435\u043d\u0442-\u0441\u0442\u044c,\xa0%",align:"right"}],St=function(e){var a=e.match,t=pe(),c=Object(u.c)(),r=a.params,E=r.id,p=r.id2,b=fa((function(e){return e.products})),f=b.products,h=b.request,O=b.loaded;Object(n.useEffect)((function(){c(vt(!1)),c(Ot),c(te(6)),c(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/schemes/").concat(a,"/wishes")).then((function(e){var a=e.data.products;return t(ht(a))})).finally((function(){return t(vt(!0))}))}}(E,p))}),[c,E,p]);var v=Object(n.useState)({}),y=Object(ge.a)(v,2),g=y[0],j=y[1],S=function(e,a,t){var n=e.value;j(Object(Re.a)(Object(Re.a)({},g),{},Object(d.a)({},a,Object(Re.a)(Object(Re.a)({},g[a]),{},Object(d.a)({},t,+n)))))},k=function(e){var a=Object(Re.a)({},g);delete a[e],j(a)},_=Object(o.f)();return l.a.createElement(ne.a,{className:t.root},l.a.createElement(ce.a,{className:t.toolBar},l.a.createElement("div",{className:"left-side"},l.a.createElement(Q,{title:"\u0420\u0430\u0441\u0447\u0451\u0442"},l.a.createElement(oe.a,{color:"secondary","aria-label":"back",onClick:function(){_.push("/".concat(E,"/schemes/").concat(p,"/launch"))}},l.a.createElement(yt.a,null)))),l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u0412\u0432\u043e\u0434 \u043f\u043b\u0430\u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436 \u0433\u043e\u0442\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),l.a.createElement("div",{className:"right-side"},l.a.createElement(Q,{title:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"},l.a.createElement(oe.a,{color:"secondary","aria-label":"not save",onClick:function(){_.push("/".concat(E,"/schemes/").concat(p,"/budget"))}},l.a.createElement(gt.a,null))),l.a.createElement(Q,{title:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043b\u0438\u043d\u0435\u0439\u043d\u043e"},l.a.createElement(oe.a,{color:"secondary","aria-label":"calculate",onClick:function(){Z()({method:"post",url:"".concat($,"/").concat("api/v1","/").concat(E,"/schemes/").concat(p,"/wishes/"),data:h,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data.scheme_id;_.push("/".concat(E,"/schemes/").concat(a,"/purchase/1"))}))}},l.a.createElement(Qa.a,null))))),l.a.createElement(le.a,{className:t.container},l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:t.header},l.a.createElement(m.a,{colSpan:2}),l.a.createElement(m.a,{colSpan:3,align:"center"},"\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435"),l.a.createElement(m.a,{colSpan:3,align:"center"},"\u041f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436"),l.a.createElement(m.a,null)),l.a.createElement(i.a,{className:t.header},jt.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.align},e.label)})),l.a.createElement(m.a,{align:"center"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),l.a.createElement(se.a,null,O?l.a.createElement(l.a.Fragment,null,f.map((function(e,a){var t=e.id,n=e.code,r=e.name,o=e.last_volume,u=e.last_price,s=e.last_rent,E=e.amount,p=e.price,b=e.curr_rent,f=g.hasOwnProperty(t);return l.a.createElement(i.a,{key:t},l.a.createElement(m.a,null,n),l.a.createElement(m.a,null,r),l.a.createElement(m.a,null,f?l.a.createElement(ya.a,{value:g[t].amount,onValueChange:function(e){var a=e.value;return S({value:a},t,"amount")},thousandSeparator:" ",customInput:xa.a,InputProps:{color:"secondary"}}):+E),l.a.createElement(m.a,null,f?l.a.createElement(ya.a,{value:g[t].price,onValueChange:function(e){var a=e.value;return S({value:a},t,"price")},thousandSeparator:" ",suffix:"\u20bd",customInput:xa.a,InputProps:{color:"secondary"}}):+p.toFixed(2)),l.a.createElement(m.a,null,+s.toFixed(2)),l.a.createElement(m.a,null,+o),l.a.createElement(m.a,null,+u.toFixed(2)),l.a.createElement(m.a,null,+b.toFixed(2)),l.a.createElement(m.a,{align:"center"},f?l.a.createElement(l.a.Fragment,null,l.a.createElement(oe.a,{size:"small",color:"secondary",onClick:function(){return function(e,a){c({type:"SAVE_PRODUCTS",payload:{index:a,values:g[e]}}),k(e)}(t,a)}},l.a.createElement(Za.a,null)),l.a.createElement(oe.a,{onClick:function(){return k(t)},size:"small",color:"secondary"},l.a.createElement($a.a,null))):l.a.createElement(oe.a,{color:"secondary",size:"small",onClick:function(){return function(e,a,t){j(Object(Re.a)(Object(Re.a)({},g),{},Object(d.a)({},e,{price:t,amount:a})))}(t,+E,p)}},l.a.createElement(et.a,null))))}))):l.a.createElement(Ga,{content:9,repeat:10})))))},kt=t(112),_t=function(e){return{type:"SET_BLOCKS_SELL",payload:e}},Ct=function(e){return{type:"SET_BLOCKS_ADD",payload:e}},wt={type:"EXPAND_ALL_SELL"},xt={type:"CLOSE_ALL_SELL"},Lt=t(225),Tt=[{id:"code",label:"\u2116"},{id:"name",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438"},{id:"amount",label:"\u041e\u0431\u044a\u0435\u043c, \u0442"},{id:"price",label:"\u0426\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u0440\u0443\u0431/\u043a\u0433"}],At=Object(u.b)((function(e){return{wishes:e.wishes.wishes,wishesStatus:e.wishes.status,isOpenWishes:e.wishes.isOpen,loaded:e.wishes.loaded,isOpenSell:e.budget.blocks.sell.isOpen,sell:e.budget.blocks.sell.values,sellStatus:e.budget.blocks.sell.status}}),(function(e){return{setBlockSellStatus:function(a){return e(function(e){return{type:"SET_BLOCKS_SELL_STATUS",payload:e}}(a))},setWishesStatus:function(a){return e(Sa(a))},expandAllWishes:function(){return e(_a)},closeAllWishes:function(){return e(Ca)},setWishesLoaded:function(a){return e(wa(a))},expandAllSell:function(){return e(wt)},closeAllSell:function(){return e(xt)},getWishes:function(a){return e(ga(a))},getBlocksSell:function(a,t){return e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/schemes/").concat(a,"/blocks_sell/0")).then((function(e){var a=e.data.products;return t(_t(a))}))}}(a,t))}}}))((function(e){var a=e.model,t=e.scheme,c=e.wishes,r=e.wishesStatus,o=e.isOpenWishes,u=e.sell,d=e.sellStatus,E=e.isOpenSell,p=e.setBlockSellStatus,b=e.setWishesStatus,f=e.expandAllWishes,h=e.expandAllSell,O=e.closeAllWishes,v=e.closeAllSell,y=e.getWishes,g=e.getBlocksSell,j=e.loaded,S=e.setWishesLoaded,k=pe();Object(n.useEffect)((function(){S(!1),y(+a),g(a,t)}),[a,t,y,g,S]);var _=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];p(a)},C=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];b(a)};return l.a.createElement(ne.a,{className:k.budgetTables},l.a.createElement(le.a,null,l.a.createElement(ce.a,{className:k.toolBar},l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u041f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436")),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:k.header},l.a.createElement(m.a,null,l.a.createElement(Q,{title:o||E?"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"},l.a.createElement(oe.a,{color:"secondary","aria-label":"expand all",onClick:function(){o||E?(O(),v()):(f(),h())},size:"small"},o&&E?l.a.createElement(st.a,null):l.a.createElement(it.a,null)))),l.a.createElement(m.a,{className:k.emptyCell}),Tt.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.align},e.label)})))),l.a.createElement(se.a,null,j?l.a.createElement(l.a.Fragment,null,Object.keys(c).map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(i.a,null,l.a.createElement(m.a,{style:{fontWeight:"bold",cursor:"pointer"},colSpan:4},l.a.createElement(oe.a,{style:{marginRight:16},color:"secondary",size:"small",onClick:function(){return C(e)}},r[e].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434: ",l.a.createElement("span",{style:{fontWeight:400}},e))),l.a.createElement(m.a,{style:{fontWeight:700}},+c[e].amount.toFixed(2)),l.a.createElement(m.a,{style:{fontWeight:700}},+c[e].averagePrice.toFixed(2))),r[e].status&&Object.keys(c[e].values).map((function(a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(i.a,null,l.a.createElement(m.a,null),l.a.createElement(m.a,{colSpan:3,style:{fontWeight:"bold",cursor:"pointer"}},l.a.createElement(oe.a,{size:"small",color:"secondary",style:{marginRight:16},onClick:function(){return C(e,a)}},r[e][a].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434:"," ",l.a.createElement("span",{style:{fontWeight:400}},a))),l.a.createElement(m.a,{align:"left"},+c[e].values[a].amount.toFixed(2)),l.a.createElement(m.a,{align:"left"},+c[e].values[a].averagePrice.toFixed(2))),r[e][a].status&&c[e].values[a].values.map((function(e,t){return l.a.createElement(i.a,{key:"".concat(a,"_").concat(t)},l.a.createElement(m.a,null),l.a.createElement(m.a,null),l.a.createElement(m.a,null,e.code),l.a.createElement(m.a,null,e.name),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},+e.amount),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},e.price))})))})))})),Object.keys(u).map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(i.a,null,l.a.createElement(m.a,{style:{fontWeight:"bold",cursor:"pointer"},colSpan:4},l.a.createElement(oe.a,{style:{marginRight:16},color:"secondary",size:"small",onClick:function(){return _(e)}},d[e].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434: ",l.a.createElement("span",{style:{fontWeight:400}},e))),l.a.createElement(m.a,{style:{fontWeight:700}},+u[e].amount.toFixed(2)),l.a.createElement(m.a,{style:{fontWeight:700}},+u[e].averagePrice.toFixed(2))),d[e].status&&Object.keys(u[e].values).map((function(a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(i.a,null,l.a.createElement(m.a,null),l.a.createElement(m.a,{colSpan:3,style:{fontWeight:"bold",cursor:"pointer"}},l.a.createElement(oe.a,{size:"small",color:"secondary",style:{marginRight:16},onClick:function(){return _(e,a)}},d[e][a].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434:"," ",l.a.createElement("span",{style:{fontWeight:400}},a))),l.a.createElement(m.a,{align:"left"},+u[e].values[a].amount.toFixed(2)),l.a.createElement(m.a,{align:"left"},+u[e].values[a].averagePrice.toFixed(2))),d[e][a].status&&u[e].values[a].values.map((function(e,t){return l.a.createElement(i.a,{key:"".concat(a,"_").concat(t)},l.a.createElement(m.a,null),l.a.createElement(m.a,null),l.a.createElement(m.a,null,e.code),l.a.createElement(m.a,null,e.name),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},+e.amount),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},e.price))})))})))}))):l.a.createElement(Ga,{empty:2,content:5,repeat:10})))))})),Nt=Object(u.b)((function(e){return{production:e.production.production,productionStatus:e.production.status,isOpen:e.production.isOpen,loaded:e.production.loaded}}),(function(e){return{setProductionStatus:function(a){return e(ct(a))},expandAllProduction:function(){return e(rt)},closeAllProduction:function(){return e(ot)},getProduction:function(a,t){return e(nt(a,t,"1"))},setProductionLoaded:function(a){return e(ut(a))}}}))((function(e){var a=e.model,t=e.scheme,c=e.production,r=e.productionStatus,o=e.isOpen,u=e.setProductionStatus,d=e.expandAllProduction,E=e.closeAllProduction,p=e.getProduction,b=e.loaded,f=e.setProductionLoaded,h=pe();Object(n.useEffect)((function(){f(!1),p(a,t)}),[a,t,p,f]);var O=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];u(a)};return l.a.createElement(ne.a,{className:h.budgetTables},l.a.createElement(le.a,null,l.a.createElement(ce.a,{className:h.toolBar},l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u041f\u043b\u0430\u043d \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430")),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:h.header},l.a.createElement(m.a,null,l.a.createElement(Q,{title:o?"\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"},l.a.createElement(oe.a,{color:"secondary","aria-label":"expand all",onClick:function(){o?E():d()},size:"small"},o?l.a.createElement(st.a,null):l.a.createElement(it.a,null)))),l.a.createElement(m.a,{className:h.emptyCell}),l.a.createElement(m.a,{style:{width:100}},"\u2116"),l.a.createElement(m.a,{style:{width:400}},"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"),l.a.createElement(m.a,{style:{minWidth:150}},"\u041e\u0431\u044a\u0435\u043c, \u0442"))),l.a.createElement(se.a,null,b?l.a.createElement(l.a.Fragment,null,Object.keys(c).map((function(e){return l.a.createElement(l.a.Fragment,{key:e},l.a.createElement(i.a,null,l.a.createElement(m.a,{style:{fontWeight:"bold",cursor:"pointer"},colSpan:4},l.a.createElement(oe.a,{style:{marginRight:16},color:"secondary",size:"small",onClick:function(){return O(e)}},r[e].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434: ",l.a.createElement("span",{style:{fontWeight:400}},e))),l.a.createElement(m.a,{style:{fontWeight:700},align:"left"},+c[e].amount.toFixed(2))),r[e].status&&Object.keys(c[e].values).map((function(a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(i.a,null,l.a.createElement(m.a,null),l.a.createElement(m.a,{colSpan:3,style:{fontWeight:"bold",cursor:"pointer"}},l.a.createElement(oe.a,{size:"small",color:"secondary",style:{marginRight:16},onClick:function(){return O(e,a)}},r[e][a].status?l.a.createElement(st.a,null):l.a.createElement(it.a,null)),l.a.createElement("span",null,"\u041a\u043e\u0434:"," ",l.a.createElement("span",{style:{fontWeight:400}},a))),l.a.createElement(m.a,{align:"left"},+c[e].values[a].amount.toFixed(2))),r[e][a].status&&c[e].values[a].values.map((function(e,t){return l.a.createElement(i.a,{key:"".concat(a,"_").concat(t)},l.a.createElement(m.a,null),l.a.createElement(m.a,null),l.a.createElement(m.a,null,e.code),l.a.createElement(m.a,null,e.name),l.a.createElement(m.a,{style:{color:"rgba(0, 0, 0, 0.5)"}},+e.amount))})))})))}))):l.a.createElement(Ga,{empty:2,content:3,repeat:10})))))})),Pt=[{id:"name",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},{id:"amount",label:"\u0417\u0430\u043a\u0443\u043f\u043a\u0430, \u0442"},{id:"price",label:"\u0426\u0435\u043d\u0430, \u0440\u0443\u0431/\u043a\u0433"}],Wt=Object(u.b)((function(e){return{purchase:e.purchase.purchase,loaded:e.purchase.loaded,add:e.budget.blocks.add}}),(function(e){return{getPurchases:function(a,t){return e(qa(a,t,"1"))},getBlocksAdd:function(a,t){return e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t){Z.a.get("".concat($,"/").concat("api/v1","/").concat(e,"/schemes/").concat(a,"/blocks_add/0")).then((function(e){var a=e.data.products;return t(Ct(a))}))}}(a,t))},setPurchaseLoaded:function(a){return e(Xa(a))}}}))((function(e){var a=e.model,t=e.scheme,c=e.purchase,r=e.add,o=e.getPurchases,u=e.getBlocksAdd,d=e.loaded,E=e.setPurchaseLoaded,p=pe();return Object(n.useEffect)((function(){E(!1),o(a,t),u(a,t)}),[a,t,o,u,E]),l.a.createElement(ne.a,{className:p.budgetTables},l.a.createElement(le.a,null,l.a.createElement(ce.a,{className:p.toolBar},l.a.createElement(re.a,{variant:"h6",component:"h2"},"\u041f\u043b\u0430\u043d \u0437\u0430\u043a\u0443\u043f\u043e\u043a")),l.a.createElement(ue.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},l.a.createElement(s.a,null,l.a.createElement(i.a,{className:p.header},Pt.map((function(e){return l.a.createElement(m.a,{key:e.id,align:e.align},e.label)})))),l.a.createElement(se.a,null,d?l.a.createElement(l.a.Fragment,null,c.map((function(e){var a=e.id,t=e.name,n=e.amount,c=e.price;return l.a.createElement(i.a,{key:a},l.a.createElement(m.a,null,t),l.a.createElement(m.a,null,n),l.a.createElement(m.a,null,c))})),r.map((function(e){var a=e.id,t=e.name,n=e.amount,c=e.price;return l.a.createElement(i.a,{key:a},l.a.createElement(m.a,null,t),l.a.createElement(m.a,null,n),l.a.createElement(m.a,null,c))}))):l.a.createElement(Ga,{content:4,repeat:10})))))})),Rt=function(e){var a=e.match,t=Object(u.c)(),c=pe(),r=a.params,o=r.id,s=r.id2,i=Object(n.useRef)(null);Object(n.useEffect)((function(){t(te(7))}),[t]);var m=Object(n.useState)(!1),d=Object(ge.a)(m,2),E=d[0],p=d[1],b=Object(kt.useReactToPrint)({content:function(){return i.current}});Object(n.useEffect)((function(){E&&(b&&b(),p(!1))}),[E,b]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{ref:i},l.a.createElement(At,{model:o,scheme:s}),l.a.createElement(Nt,{model:o,scheme:s}),l.a.createElement(Wt,{model:o,scheme:s})),l.a.createElement("div",{className:c.budgetTables},l.a.createElement(Pe.a,{variant:"contained",color:"secondary",startIcon:l.a.createElement(Lt.a,null),onClick:function(){t(_a),t(wt),t(rt),p(!0)}},"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c")))},Dt=t(113),It=t(226),Ft=Object(Dt.a)({palette:{primary:{main:"#4caf50"},secondary:{main:"rgb(161, 52, 60)"}}}),zt=function(){return l.a.createElement(It.a,{theme:Ft},l.a.createElement(Y,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:he}),l.a.createElement(o.a,{exact:!0,path:"/add_model",component:Oa}),l.a.createElement(o.a,{exact:!0,path:"/power_bi",component:va}),l.a.createElement(o.a,{exact:!0,path:"/:id/wishes",component:Ma}),l.a.createElement(o.a,{exact:!0,path:"/:id/schemes/:id2/purchase/:changed",component:tt}),l.a.createElement(o.a,{exact:!0,path:"/:id/schemes/:id2/production/:changed",component:dt}),l.a.createElement(o.a,{exact:!0,path:"/:id/schemes/:id2/launch",component:ft}),l.a.createElement(o.a,{exact:!0,path:"/:id/schemes/:id2/wishes",component:St}),l.a.createElement(o.a,{exact:!0,path:"/:id/schemes/:id2/budget",component:Rt})))},Ut=t(36);r.a.render(l.a.createElement(u.a,{store:ha},l.a.createElement(Ut.a,{basename:"/coursework-vector"},l.a.createElement(zt,null))),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.251d87ab.chunk.js.map